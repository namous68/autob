{% extends 'base.html.twig' %}

{% block title %}AUtoB
{% endblock %}

{% block stylesheets %}
	{{ parent() }}
<link rel="stylesheet" href="{{ asset('css/style.css')}}">
{% endblock %}


{% block body %}




	<div class="container">
		<section class="search-section">
			<div class="form">
				<p>Utilisez le formulaire de recherche pour trouver la voiture de vos rêves.</p>
				<form
					action="{{ path('app_annonces_search') }}" method="get">
					<!-- Vos champs de recherche existants -->
					<label for="marque">Marque :</label>
					<input type="text" name="marque" id="marque">

					<label for="modele">Modèle :</label>
					<input type="text" name="modele" id="modele">

					<label for="prix_min">Prix minimum :</label>
					<input type="number" name="prix_min" id="prix_min">

					<button type="submit">Rechercher</button>
				</form>
			</div>
			<div
				class="image-section">
				<!-- Ajoutez votre balise d'image ici -->
				<img src="media/search.png" alt="Description de l'image">
			</div>
		</div>



		{% if annonces is not empty %}
			<section class="results-section">

				<table class="table">

					<tbody>
						{% for annonce in annonces %}

							<div class="card" style="width: 18rem;">
								<div>
									{% for image in annonce.images %}
									
                                      <img class="image_annonce" src="{{ asset(image.getImageUrl()) }}" alt="{{ image.path }}">
									{% endfor %}
								</div>
								<div class="card-body">
									<h5 class="card-title"></h5>
									<h2 class="card-text">{{ annonce.titre }}.</h2>
								</div>
								<ul class="list-group list-group-flush">
									<li class="list-group-item">Description :{{ annonce.description }}</li>
									<li class="list-group-item">Prix :{{ annonce.prix }}</li>
									<li class="list-group-item">Mis En Circulation :{{ annonce.misEnCirculation }}</li>
									<li class="list-group-item">Kilometrage :{{ annonce.kilometrage }}</li>
									<li class="list-group-item">Publié Le  :{{  annonce.datePublication|date('Y-m-d H:i') }}</li>
 {% if annonce.garage is not null %}
                <li class="list-group-item">Publié Par :{{ annonce.garage.nom }}</li>
            {% endif %}
								</ul>
								<div class="card-body">
									<a href="{{ path('app_annonces_show', {'id': annonce.id}) }}">show</a>
								</div>
							</div>

						{% endfor %}
					</tbody>
				</table>
				  
			</section>
		{% else %}
			<section class="no-results-section">
				<p>Aucun résultat trouvé.</p>
			</section>
		{% endif %}
		
	</div>
{% endblock %}
{% block javascript %}



{% endblock %}


